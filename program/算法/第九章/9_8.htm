<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=gb_2312-80">
<META NAME="Generator" CONTENT="Microsoft Word 97">
<TITLE>第 2 章  线性表</TITLE>
</HEAD>
<BODY>

<B><FONT SIZE=3><P ALIGN="JUSTIFY">8. </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>基数排序算法</P>
<P ALIGN="JUSTIFY">&#9;</FONT><FONT SIZE=3>void</B>  Distribute ( SLCell  <B>&amp;</B>r,  <B>int</B>  i,  ArrType  <B>&amp;</B>f,  ArrType  <B>&amp;</B>e )  </FONT><B><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>{</P>
</B><P ALIGN="JUSTIFY">&#9;</FONT><FONT SIZE=3>// </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>静态链表</FONT><FONT SIZE=3> <I>L</I> </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>的</FONT><FONT SIZE=3> <I>r</I> </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>域中记录已经按</FONT><FONT SIZE=3> ( <I>keys</I>[0], <I>keys</I>[1], </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>…</FONT><FONT SIZE=3>, <I>keys</I>[<I>i</I>-1] ) </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>有序。此算法</P>
<P ALIGN="JUSTIFY">&#9;</FONT><FONT SIZE=3>// </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>按第</FONT><FONT SIZE=3> <I>i</I> </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>个关键字</FONT><FONT SIZE=3> <I>keys</I>[<I>i</I>] </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>建立</FONT><FONT SIZE=3> <I>RD</I> </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>个子表，使同一个子表中记录的</FONT><FONT SIZE=3> <I>keys</I>[<I>i</I>] </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>相同。</P>
<P ALIGN="JUSTIFY">&#9;</FONT><FONT SIZE=3>// <I>f</I>[ 0 . . <I>RD</I>-1] </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>和</FONT><FONT SIZE=3> <I>e</I>[ 0 . . <I>RD</I>-1] </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>分别指向各子表中的第一个记录和最后一个记录。</P>
<P ALIGN="JUSTIFY">&#9;</FONT><FONT SIZE=3>  <B>for</B> ( j = 0;  j &lt; RD;  ++i )  f[j] = 0;&#9;&#9;&#9;// </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>各子表初始化为空表</P>
<B><P ALIGN="JUSTIFY">&#9;</FONT><FONT SIZE=3>  for</B> ( p = r[0].next;  p;  p = r[p].next )  </FONT><B><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>{</P>
</B><P ALIGN="JUSTIFY">&#9;&#9;</FONT><FONT SIZE=3>j = Ord ( r[p].keys[i] );&#9;&#9;&#9;&#9;&#9;&#9;</P><DIR>

<P ALIGN="JUSTIFY">// </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>函数</FONT><FONT SIZE=3> Ord </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>将记录中第</FONT><FONT SIZE=3> <I>i</I> </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>个关键字映射到</FONT><FONT SIZE=3> [ 0 . . <I>RD</I> ] </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>中去</P></DIR>

<P ALIGN="JUSTIFY">&#9;&#9;</FONT><B><FONT SIZE=3>if</B> ( <B>!</B> f[j] )  f[j] = p;</P>
</FONT><B><FONT FACE="宋体" LANG="ZH-CN" SIZE=3><P ALIGN="JUSTIFY">&#9;&#9;</FONT><FONT SIZE=3>else</B>  r[e[j]].next = p;</P>
</FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3><P ALIGN="JUSTIFY">&#9;&#9;</FONT><FONT SIZE=3>e[j] = p;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;// </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>将</FONT><FONT SIZE=3> <I>p</I> </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>所指的结点插入到第</FONT><FONT SIZE=3> <I>j</I> </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>个子表中</P>
<P ALIGN="JUSTIFY">&#9;</FONT><FONT SIZE=3>  </FONT><B><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>}</B></FONT><FONT SIZE=3> // for </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>结束</P>
<P ALIGN="JUSTIFY">&#9;<B>}</B></FONT><FONT SIZE=3> // Distribute</P>
</FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3><P ALIGN="JUSTIFY"></P>
<P ALIGN="JUSTIFY">&#9;</FONT><B><FONT SIZE=3>void</B>  Collect ( SLCell  <B>&amp;</B>r,  <B>int</B>  i,  ArrType  f,  ArrType  e )  </FONT><B><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>{</P>
</B><P ALIGN="JUSTIFY">&#9;</FONT><FONT SIZE=3>// </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>此算法按</FONT><FONT SIZE=3> <I>keys</I>[<I>i</I>] </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>自小至大地将</FONT><FONT SIZE=3> <I>f</I>[ 0 . . <I>RD</I>-1] </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>所指各子表依次链接成一个链表。</P>
<P ALIGN="JUSTIFY">&#9;</FONT><FONT SIZE=3>// <I>e</I>[ 0 . . <I>rd</I>-1] </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>为各子表的尾指针。</P>
<P ALIGN="JUSTIFY">&#9;</FONT><FONT SIZE=3>  <B>for</B> ( j = 0;  <B>!</B> f[j];  j = Succ(j) );&#9;&#9;&#9;&#9;// </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>找第一个非空子表，</FONT><FONT SIZE=3>Succ </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>为求后继函数</P>
<P ALIGN="JUSTIFY">&#9;</FONT><FONT SIZE=3>  r[0].next = f[j];&#9;t = e[j];&#9;&#9;&#9;&#9;&#9;&#9;// <I>r</I>[0].<I>next</I> </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>指向第一个非空字表中第一个结点</P>
<P ALIGN="JUSTIFY">&#9;</FONT><FONT SIZE=3>  <B>while</B> ( j &lt; RD-1 )  </FONT><B><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>{</P>
</B><P ALIGN="JUSTIFY">&#9;&#9;</FONT><B><FONT SIZE=3>for</B> ( j = Succ(j);  j &lt; RD-1 <B>&amp;&amp; !</B> f[j];  j = Succ(j) );</P><DIR>
<DIR>
<DIR>
<DIR>
<DIR>
<DIR>
<DIR>
<DIR>
<DIR>
<DIR>
<DIR>
<DIR>
<DIR>

<P ALIGN="JUSTIFY">// </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>寻找下一个非空子表</P></DIR>
</DIR>
</DIR>
</DIR>
</DIR>
</DIR>
</DIR>
</DIR>
</DIR>
</DIR>
</DIR>
</DIR>
</DIR>

<P ALIGN="JUSTIFY">&#9;&#9;</FONT><B><FONT SIZE=3>if</B> ( f[j] )  </FONT><B><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>{</B></FONT><FONT SIZE=3> r[t].next = f[j];&#9;t = e[j]; </FONT><B><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>}&#9;&#9;&#9;</B></FONT><FONT SIZE=3>// </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>链接两个非空字表</P>
<P ALIGN="JUSTIFY">&#9;</FONT><FONT SIZE=3>  </FONT><B><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>}</B></FONT><FONT SIZE=3> while </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>结束</P>
<P ALIGN="JUSTIFY">&#9;</FONT><FONT SIZE=3>  r[t].next = 0;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;// <I>t</I> </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>指向最后一个非空子表中的最后一个结点</P>
<P ALIGN="JUSTIFY">&#9;<B>}</B></FONT><FONT SIZE=3> // Collect</P>
</FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3><P ALIGN="JUSTIFY"></P>
<P ALIGN="JUSTIFY">&#9;</FONT><B><FONT SIZE=3>void</B>  RadixSort ( SLList  <B>&amp;</B>L )  </FONT><B><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>{</P>
</B><P ALIGN="JUSTIFY">&#9;</FONT><FONT SIZE=3>// </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>顺序表</FONT><FONT SIZE=3> <I>L</I> </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>采用静态链表表示。对</FONT><FONT SIZE=3> <I>L</I> </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>作基数排序，</P>
<P ALIGN="JUSTIFY">&#9;</FONT><FONT SIZE=3>// </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>使得</FONT><FONT SIZE=3> <I>L</I> </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>成为按关键字自小到大的有序静态链表，</FONT><I><FONT SIZE=3>L.</I>r[0] </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>为头结点。</P>
<P ALIGN="JUSTIFY">&#9;</FONT><FONT SIZE=3>  <B>for</B> ( i = 0;  i &lt; L.recnum;  ++i )  L.r[i].next = i + 1;</P>
<P ALIGN="JUSTIFY">&#9;  L.r[L.recnum].next = 0;&#9;&#9;&#9;&#9;&#9;&#9; // </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>将</FONT><FONT SIZE=3> <I>L</I> </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>改造为静态链表</P>
<P ALIGN="JUSTIFY">&#9;</FONT><FONT SIZE=3>  <B>for</B> ( i = 0;  i &lt; L.keynum;  ++i )  </FONT><B><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>{</P>
</B><P ALIGN="JUSTIFY">&#9;</FONT><FONT SIZE=3>  // </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>按最低位优先，即</FONT><FONT SIZE=3> LSD </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>方法依次对各关键字进行分配和收集</P>
<P ALIGN="JUSTIFY">&#9;&#9;</FONT><FONT SIZE=3>Distribute ( L.r, i, f, e )&#9;&#9;&#9;&#9;&#9;&#9;// </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>第</FONT><FONT SIZE=3> <I>i</I> </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>趟分配</P>
<P ALIGN="JUSTIFY">&#9;&#9;</FONT><FONT SIZE=3>Collect ( L.r, i, f, e )&#9;&#9;&#9;&#9;&#9;&#9;&#9;// </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>第</FONT><FONT SIZE=3> <I>i</I> </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>趟收集</P>
<P ALIGN="JUSTIFY">&#9;</FONT><FONT SIZE=3>  </FONT><B><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>}</B></FONT><FONT SIZE=3> // for </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>结束</P>
<P ALIGN="JUSTIFY">&#9;<B>}</B></FONT><FONT SIZE=3> // RadixSort</P>
</FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3><P ALIGN="JUSTIFY"></P></FONT></BODY>
</HTML>
