<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=gb_2312-80">
<META NAME="Generator" CONTENT="Microsoft Word 97">
<TITLE>第 2 章  线性表</TITLE>
</HEAD>
<BODY>

<B><FONT SIZE=3><P ALIGN="JUSTIFY">3. </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>定位操作算法</P>
</FONT><FONT SIZE=3><P ALIGN="JUSTIFY">Status</B>  Locate ( Array  A,  va_list  ap,  <B>int</B>  off, ... )  </FONT><B><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>{</P>
</B></FONT><FONT SIZE=3><P ALIGN="JUSTIFY">// </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>若</FONT><FONT SIZE=3> <I>ap</I> </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>指示的各个标值合法，则求出该元素在</FONT><FONT SIZE=3> <I>A</I> </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>中的相对地址</FONT><FONT SIZE=3> <I>off</P>
</I><P ALIGN="JUSTIFY">  off = 0;</P>
<P ALIGN="JUSTIFY">  <B>for</B> ( i = 0;  i &lt; A.dim;  ++i )  </FONT><B><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>{</P><DIR>

</B></FONT><FONT SIZE=3><P ALIGN="JUSTIFY">ind = va_arg ( aq, <B>int</B> );</P>
<B><P ALIGN="JUSTIFY">if </B>( ind &lt; 0 <B>||</B> ind &gt;= A.bounds[i] )  <B>return</B> OVERFLOW;</P>
<P ALIGN="JUSTIFY">// <I>ap </I></FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>指示的各个标值不合法</FONT><FONT SIZE=3> </P>
<P ALIGN="JUSTIFY">off += A.constants[i] * ind;</P>
<P ALIGN="JUSTIFY">// </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>对数组</FONT><FONT SIZE=3> <I>A </I></FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>各维的常数</FONT><FONT SIZE=3> A.constants[i]</FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>×各个合法标值</FONT><FONT SIZE=3> <I>ap</I> </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>进行累加</P></DIR>

</FONT><FONT SIZE=3><P ALIGN="JUSTIFY">  </FONT><B><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>}</B></FONT><FONT SIZE=3> // for </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>结束</P>
</FONT><FONT SIZE=3><P ALIGN="JUSTIFY">  <B>return</B> off;</P>
</FONT><B><FONT FACE="宋体" LANG="ZH-CN" SIZE=3><P ALIGN="JUSTIFY">}</B></FONT><FONT SIZE=3> // Locate</P></FONT></BODY>
</HTML>
