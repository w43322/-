<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=gb_2312-80">
<META NAME="Generator" CONTENT="Microsoft Word 97">
<TITLE>第 2 章  线性表</TITLE>
</HEAD>
<BODY>

<B><FONT SIZE=3><P ALIGN="JUSTIFY">12. </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>例</FONT><FONT SIZE=3> 4-3  </B></FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>编写程序。将两个字符串</FONT><FONT SIZE=3> <I>S</I>1 </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>和</FONT><FONT SIZE=3> <I>S</I>2 </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>串联起来构成新串</FONT><FONT SIZE=3> <I>T</I></FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>。字符串采用堆分配存储表示。</P>
</FONT><B><FONT SIZE=3><P ALIGN="JUSTIFY">Status</B>  Concat ( HString <B>&amp;</B>T,  HString S1,  HString S2 )  </FONT><B><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>{</P>
</B></FONT><FONT SIZE=3><P ALIGN="JUSTIFY">// </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>将字符串</FONT><FONT SIZE=3> <I>S</I>1 </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>和</FONT><FONT SIZE=3> <I>S</I>2 </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>联接成一个新串</FONT><FONT SIZE=3> <I>T</I></FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>。字符串采用堆分配存储表示。</P>
<P ALIGN="JUSTIFY">&#9;</FONT><FONT SIZE=3>  <B>if</B> ( T.ch )  <B>free</B> ( T,ch );&#9;&#9;&#9;&#9;&#9;&#9;// </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>释放原有空间</P>
</FONT><FONT SIZE=3><P ALIGN="JUSTIFY">  <B>if</B> ( <B>!</B> ( T.ch = ( char *) <B>malloc</B> ( ( S1.length + S2.length ) * <B>sizeof</B> ( char ) ) ) )</P>
</FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3><P ALIGN="JUSTIFY">&#9;&#9;</FONT><B><FONT SIZE=3>exit</B> ( OVERFLOW );&#9;&#9;&#9;&#9;&#9;&#9;// </FONT><FONT FACE="宋体" LANG="ZH-CN" SIZE=3>重新分配存储空间失败</P>
<P ALIGN="JUSTIFY">&#9;</FONT><FONT SIZE=3>  T.ch[0..S1.length-1] = S1.ch[0..S1.length-1];</P>
<P ALIGN="JUSTIFY">&#9;  T.length = S1.length + S2.length;</P>
<P ALIGN="JUSTIFY">&#9;  T.ch[S1.length..T.length-1] = S2.ch[0..S2.length-1];</P>
<P ALIGN="JUSTIFY">&#9;  <B>return</B> OK;</P>
</FONT><B><FONT FACE="宋体" LANG="ZH-CN" SIZE=3><P ALIGN="JUSTIFY">}</B></FONT><FONT SIZE=3> // Concat</P></FONT></BODY>
</HTML>
